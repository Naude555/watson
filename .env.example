# ----------------------------
# Server
# ----------------------------
PORT=3000
NODE_ENV=development

# ----------------------------
# Security
# ----------------------------
# Required for normal API calls (send endpoints). If empty, API is open (NOT recommended for VPS).
WA_API_KEY=change_me_to_a_secure_random_string

# Required for Admin API + Admin UI (/admin/*). If empty, admin features won't work.
WA_ADMIN_KEY=change_me_to_a_secure_random_string

# ----------------------------
# Storage
# ----------------------------
UPLOAD_DIR=./uploads
CONTACTS_FILE=/data/contacts.json
MESSAGES_FILE=/data/messages.json
MESSAGES_MAX=20000
MESSAGES_MEMORY_LIMIT=500

# Max upload size for multer (MB)
MAX_UPLOAD_MB=20

# ----------------------------
# Auto Reply (simple)
# ----------------------------
AUTO_REPLY_ENABLED=true

# dm | group | both
AUTO_REPLY_SCOPE=both

# contains | equals | regex
AUTO_REPLY_MATCH_TYPE=contains

# What triggers the reply
AUTO_REPLY_MATCH_VALUE=help

# Reply message text
AUTO_REPLY_TEXT=Hi ðŸ‘‹ Reply with "!bot help" in groups.

# Cooldown per chat (milliseconds)
AUTO_REPLY_COOLDOWN_MS=30000

# Group prefix required in groups (e.g. "!bot hi")
AUTO_REPLY_GROUP_PREFIX=!bot

# ----------------------------
# Queue / Throttling (anti-rate-limit)
# ----------------------------
WA_BASE_DELAY_MS=1200
WA_JITTER_MS=800
WA_PER_JID_GAP_MS=3000

# Retry behavior
WA_MAX_RETRIES=3
WA_RETRY_BACKOFF_MS=1500

# ----------------------------
# API Rate limiting (Express)
# ----------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120

MEDIA_SIGNING_SECRET=change_me_to_a_secure_random_string
MEDIA_URL_TTL_SECONDS=172800

# n8n forwarding
N8N_WEBHOOK_URL=n8n-webhook-url
N8N_SHARED_SECRET=change_me_to_a_secure_random_string

# optional: if you want group prefix mode default
N8N_GROUP_PREFIX=!bot

# where to persist rules
AUTOMATIONS_FILE=/data/automations.json

# Redis (durable outbound queue)
REDIS_URL=redis://redis:6379

# Queue naming (optional)
WA_QUEUE_NAME=wa-send

# If you want to hard-limit outbound pace centrally
WA_GLOBAL_MIN_GAP_MS=0
